<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hardware &mdash; KegScale 0.0.4 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Software" href="software.html" />
    <link rel="prev" title="Welcome to KegScale’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> KegScale
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Hardware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#schema">Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-the-base">Building the base</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cat6-wire-usage">CAT6 Wire Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-the-display-case">Building the display case</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="software.html">Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="3d.html">3D Models</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">KegScale</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Hardware</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="hardware">
<span id="id1"></span><h1>Hardware<a class="headerlink" href="#hardware" title="Permalink to this headline">¶</a></h1>
<p>This is the hardware schema overview that I have used i my build.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The software will adopt to what devices are connected and will work with
one, two scales, one or two displays and without a temperature sensor.</p>
</div>
<div class="section" id="schema">
<h2>Schema<a class="headerlink" href="#schema" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="_images/schema.jpg"><img alt="Schema" src="_images/schema.jpg" style="width: 600px;" /></a>
<p>Part list:</p>
<ul class="simple">
<li><p>U1 - Wemos D1 mini (I used the v3.0 version)</p></li>
<li><p>U2 - 0.96” 128x64 I2C OLED display (with option to change i2c adress)</p></li>
<li><p>U3 - 0.96” 128x64 I2C OLED display (with option to change i2c adress)</p></li>
<li><p>U4 - DHT22 temp and humidity sensor</p></li>
<li><p>R1 - 4.7k</p></li>
<li><p>R2 - 4.7k</p></li>
<li><p>SCALE1 - HX711 with 4 load cells</p></li>
<li><p>SCALE2 - HX711 with 4 load cells</p></li>
<li><p>CAT6 network cable</p></li>
<li><p>2 x 3D printed base for scale</p></li>
<li><p>3D printed case for displays and esp8266</p></li>
<li><p>5V power supply</p></li>
</ul>
<p>R1 and R2 are just used to pull the CLK to +3.3V or the code will not detect
that scales are missing (floating input). You can use most values between
2k and 5k for that.</p>
</div>
<div class="section" id="building-the-base">
<h2>Building the base<a class="headerlink" href="#building-the-base" title="Permalink to this headline">¶</a></h2>
<p>Print the 2 base models and 2 covers. Files can be found in the sub-model directory.
These models are designed to be printed on my Prusa MK3+ and support a cornelius
keg of 9, 18 or 19 l.</p>
<p>You can of course print or build a different mount for the load cells. Just check the
internet and you will find several options. Mount the load cells in the base and wire
the HX711 board to the load cells as shown in the next picture.</p>
<a class="reference internal image-reference" href="_images/keg_base_loadcell.jpg"><img alt="Load cells mounting" src="_images/keg_base_loadcell.jpg" style="width: 600px;" /></a>
<p>Do not shorten the cables since this will affect the function of the
load cells. Use the wiring setup as shown here to connect the load cells to the
HX711.</p>
<a class="reference internal image-reference" href="_images/hx711.jpg"><img alt="HX711" src="_images/hx711.jpg" style="width: 600px;" /></a>
<p>I used network cable (CAT6) for the connection between the bases and the esp8266 and this is
what the result looked like. The cover will be glued on top of this at a later stage (preferably
when it works correcly). I also used some transparent tape to secure the cables in the base.</p>
<a class="reference internal image-reference" href="_images/keg_base_wired.jpg"><img alt="Wiring" src="_images/keg_base_wired.jpg" style="width: 600px;" /></a>
<p>Here is the second base where I have writed the cables togheter so I only need one cable to
the esp8266.</p>
<a class="reference internal image-reference" href="_images/keg_base_cabling.jpg"><img alt="Wiring with tape" src="_images/keg_base_cabling.jpg" style="width: 600px;" /></a>
</div>
<div class="section" id="cat6-wire-usage">
<h2>CAT6 Wire Usage<a class="headerlink" href="#cat6-wire-usage" title="Permalink to this headline">¶</a></h2>
<p>I used the following wires in the network cable to connect to the 2 bases. Note that the CLK
wires both connected to D4 by design.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">CAT Wiring</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Wire</p></th>
<th class="head"><p>Function</p></th>
<th class="head"><p>Pin</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Orange</p></td>
<td><p>+3.3V</p></td>
<td><p>+3.3V</p></td>
</tr>
<tr class="row-odd"><td><p>Orange-White</p></td>
<td><p>GND</p></td>
<td><p>GND</p></td>
</tr>
<tr class="row-even"><td><p>Blue</p></td>
<td><p>CLK - Scale 1</p></td>
<td><p>D4</p></td>
</tr>
<tr class="row-odd"><td><p>Blue-White</p></td>
<td><p>DATA - Scale 1</p></td>
<td><p>D5</p></td>
</tr>
<tr class="row-even"><td><p>Green</p></td>
<td><p>CLK - Scale 2</p></td>
<td><p>D4</p></td>
</tr>
<tr class="row-odd"><td><p>Green-White</p></td>
<td><p>DATA - Scale 2</p></td>
<td><p>D3</p></td>
</tr>
<tr class="row-even"><td><p>Brown</p></td>
<td><p>Tempsensor</p></td>
<td><p>D7</p></td>
</tr>
<tr class="row-odd"><td><p>Brown-White</p></td>
<td><p>Not used</p></td>
<td><p>Not used</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="building-the-display-case">
<h2>Building the display case<a class="headerlink" href="#building-the-display-case" title="Permalink to this headline">¶</a></h2>
<p>to be defined</p>
<ul class="simple">
<li><p>Picture of ESP</p></li>
<li><p>Picture of Case with ESP</p></li>
<li><p>Picture of Case with display</p></li>
<li><p>Picture of connection board</p></li>
<li><p>Picture of complete</p></li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to KegScale’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="software.html" class="btn btn-neutral float-right" title="Software" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Magnus Persson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>